---
layout: none
sitemap: false
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
Â  xmlns:xhtml="http://www.w3.org/1999/xhtml">
{%- assign default_lang = site.default_lang | default: "en" -%}
{%- assign pages_and_posts = site.pages | concat: site.posts -%}

{%- comment -%} Filter for canonical URLs in the default language {%- endcomment -%}
{%- assign canonical_urls = pages_and_posts
  | where_exp:"item", "item.sitemap != false"
  | where_exp:"item", "item.url != '/robots.txt'"
  | where_exp:"item", "item.url != '/redirects.json'"
  | where_exp:"item", "item.lang == default_lang"
  | map:"url"
  | uniq
-%}

{%- for canonical_path in canonical_urls -%}
  {%- assign page_in_default_lang = pages_and_posts | where_exp:"item", "item.url == canonical_path" | first -%}
  {%- if page_in_default_lang and page_in_default_lang.url and page_in_default_lang.url != "/404/" and page_in_default_lang.url != "/404" and page_in_default_lang.url contains '/assets/' == false -%}
    <url>
      <loc>{{ canonical_path | absolute_url }}</loc>
      <lastmod>{{ page_in_default_lang.last_modified_at | default: page_in_default_lang.date | default: site.time | date_to_xmlschema }}</lastmod>

      {%- for lang in site.languages -%}
        {%- assign alternate_url = canonical_path -%}
        {%- if lang != default_lang -%}
          {%- assign alternate_url = "/" | append: lang | append: canonical_path -%}
        {%- endif -%}
        <xhtml:link
          rel="alternate"
          hreflang="{{ lang }}"
          href="{{ alternate_url | absolute_url }}"
        />
      {%- endfor -%}
      
      <xhtml:link
        rel="alternate"
        hreflang="x-default"
        href="{{ canonical_path | absolute_url }}"
      />
    </url>
  {%- endif -%}
{%- endfor -%}

</urlset>