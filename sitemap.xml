---
layout: none
sitemap: false
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
  xmlns:xhtml="http://www.w3.org/1999/xhtml">

{%- assign pages_and_posts = site.pages | concat: site.posts -%}
{%- assign url_groups = pages_and_posts | group_by: "url" -%}

{%- for group in url_groups -%}
  {%- assign canonical_node = group.items | where: "lang", site.default_lang | first | default: group.items.first -%}
  {%- unless canonical_node.sitemap == false or canonical_node.url contains '/robots.txt' or canonical_node.url contains '/redirects.json' or canonical_node.url contains '/assets/' or canonical_node.url contains '/404' %}
    <url>
      <loc>{{ canonical_node.url | absolute_url }}</loc>
      <lastmod>{{ canonical_node.last_modified_at | default: canonical_node.date | default: site.time | date_to_xmlschema }}</lastmod>

      {%- for node in group.items -%}
        {%- assign node_lang = node.lang | default: site.default_lang -%}
        {%- assign alternate_url = node.url -%}
        {%- if node_lang != site.default_lang -%}
          {%- assign alternate_url = "/" | append: node_lang | append: node.url -%}
        {%- endif %}
      <xhtml:link
        rel="alternate"
        hreflang="{{ node_lang }}"
        href="{{ alternate_url | absolute_url }}"
      />
      {%- endfor %}
      <xhtml:link
        rel="alternate"
        hreflang="x-default"
        href="{{ canonical_node.url | absolute_url }}"
      />
    </url>
  {%- endunless -%}
{%- endfor -%}
</urlset>