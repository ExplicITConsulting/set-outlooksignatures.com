---
layout: none
sitemap: false
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd"
  xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
  xmlns:xhtml="http://www.w3.org/1999/xhtml"
>
{%- assign all_docs = site.posts | concat: site.pages -%}
{%- assign grouped_docs = all_docs | group_by: 'relative_path' -%}

{%- for group in grouped_docs -%}
  {%- assign default_lang_doc = group.items | where: "lang", site.default_lang | first -%}
  {%- assign canonical_doc = default_lang_doc -%}

  {%- comment -%} If no default language document exists, choose a canonical one from the available languages. {%- endcomment -%}
  {%- unless default_lang_doc -%}
    {%- for lang in site.languages -%}
      {%- assign fallback_doc = group.items | where: "lang", lang | first -%}
      {%- if fallback_doc -%}
        {%- assign canonical_doc = fallback_doc -%}
        {%- break -%}
      {%- endif -%}
    {%- endfor -%}
  {%- endunless -%}

  {%- comment -%} Only process groups that have at least one valid document to link to. {%- endcomment -%}
  {%- if canonical_doc and canonical_doc.sitemap != false and canonical_doc.url != '/redirects.json' and canonical_doc.url != '/robots.txt' -%}
  <url>
    <loc>{{ canonical_doc.url | absolute_url }}</loc>
    <lastmod>{{ canonical_doc.last_modified_at | default: canonical_doc.date | default: site.time | date_to_xmlschema }}</lastmod>
    <changefreq>daily</changefreq>
    <priority>1.0</priority>
    {%- for doc in group.items -%}
    <xhtml:link
      rel="alternate"
      hreflang="{{ doc.lang | default: site.default_lang }}"
      href="{{ doc.url | absolute_url }}"
    />
    {%- endfor -%}
    <xhtml:link
      rel="alternate"
      hreflang="x-default"
      href="{{ canonical_doc.url | absolute_url }}"
    />
  </url>
  {%- endif -%}
{%- endfor -%}
</urlset>