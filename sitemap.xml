---
layout: "none"
sitemap: false
---

{%- comment -%} Create a prioritized language list {%- endcomment -%}
{%- assign default_lang = site.default_lang | default: site.languages.first -%}
{%- assign sorted_langs = site.languages -%}
{%- if default_lang -%}
  {%- assign sorted_langs = sorted_langs | unshift: default_lang | uniq -%}
{%- endif -%}



<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
  xmlns:xhtml="http://www.w3.org/1999/xhtml">
{%- assign unique_permalinks = "" | split: "" -%}

{% assign all_content = site.pages %}
{%- for collection in site.collections -%}
    {%- assign all_content = all_content | concat: site[collection.label] -%}
{%- endfor -%}

{%- for node in all_content -%}
  {%- unless node.redirect_to or node.sitemap == false or node.url contains '/robots.txt' or node.url contains '/redirects.json' or node.url contains '/assets/' or node.url contains '/404' -%}
    {%- assign canonicalUrl = node.url | absolute_url | replace: "//", "/"  | replace: "http:/", "http://" | replace: "https:/", "https://" | replace: "/index.html", "/" -%}

    {%- for languageCode in sorted_langs -%}
      {%- if languageCode == default_lang -%}
        {%- assign localizedUrl = node.url | absolute_url | replace: "//", "/"  | replace: "http:/", "http://" | replace: "https:/", "https://" | replace: "/index.html", "/" -%}
      {%- else -%}
        {%- assign localizedUrl = '/' | append: languageCode | append: node.url | absolute_url | replace: "//", "/"  | replace: "http:/", "http://" | replace: "https:/", "https://" | replace: "/index.html", "/" -%}
      {%- endif -%}

      {%- unless unique_permalinks contains localizedUrl -%}
        {%- assign unique_permalinks = unique_permalinks | push: localizedUrl %}
  <url>
    <loc>{{ localizedUrl }}</loc>
    <lastmod>{{ node.last_modified_at | default: node.date | default: site.time | date_to_xmlschema }}</lastmod>
    <priority>{{ node.sitemap_priority | default: 0.5 }}</priority>
    <changefreq>{{ node.sitemap_changefreq | default: weekly }}</changefreq>
    <xhtml:link rel="alternate" hreflang="x-default" href="{{ canonicalUrl }}"/>
        {%- for lang in site.languages -%}
          {%- if lang == default_lang -%}
            {%- assign hreflang_url = node.url | absolute_url | replace: "//", "/"  | replace: "http:/", "http://" | replace: "https:/", "https://" | replace: "/index.html", "/" -%}
          {%- else -%}
            {%- assign hreflang_url = '/' | append: lang | append: node.url | absolute_url | replace: "//", "/"  | replace: "http:/", "http://" | replace: "https:/", "https://" | replace: "/index.html", "/" -%}
          {%- endif %}
    <xhtml:link rel="alternate" hreflang="{{ lang }}" href="{{ hreflang_url }}"/>
        {%- endfor %}
  </url>
      {%- endunless -%}
    {%- endfor -%}
  {%- endunless -%}
{%- endfor -%}
</urlset>
