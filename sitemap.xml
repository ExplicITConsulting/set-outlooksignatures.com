---
layout: none
sitemap: false
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
  xmlns:xhtml="http://www.w3.org/1999/xhtml">

{%- assign default_lang = site.default_lang | default: "en" -%}
{%- assign pages_and_posts = site.pages | concat: site.posts -%}

{%- comment -%} Part 1: Generate entries for all canonical (English) pages {%- endcomment -%}
{%- for node in pages_and_posts -%}
  {%- unless node.sitemap == false or node.url contains '/robots.txt' or node.url contains '/redirects.json' or node.url contains '/assets/' or node.url contains '/404' or node.url contains '/de/' -%}
    <url>
      <loc>{{ node.url | absolute_url }}</loc>
      <lastmod>{{ node.last_modified_at | default: node.date | default: site.time | date_to_xmlschema }}</lastmod>

      {%- for lang in site.languages -%}
        {%- assign alternate_url = node.url -%}
        {%- if lang != default_lang -%}
          {%- assign alternate_url = "/" | append: lang | append: node.url -%}
        {%- endif -%}
        <xhtml:link
          rel="alternate"
          hreflang="{{ lang }}"
          href="{{ alternate_url | absolute_url }}"
        />
      {%- endfor -%}
      
      <xhtml:link
        rel="alternate"
        hreflang="x-default"
        href="{{ node.url | absolute_url }}"
      />
    </url>
  {%- endunless -%}
{%- endfor -%}

{%- comment -%} Part 2: Generate entries for all translated (non-English) pages {%- endcomment -%}
{%- for lang in site.languages -%}
  {%- unless lang == default_lang -%}
    {%- for node in pages_and_posts -%}
      {%- unless node.sitemap == false or node.url contains '/robots.txt' or node.url contains '/redirects.json' or node.url contains '/assets/' or node.url contains '/404' or node.url contains '/de/' -%}
        <url>
          {%- assign localized_url = "/" | append: lang | append: node.url -%}
          <loc>{{ localized_url | absolute_url }}</loc>
          <lastmod>{{ node.last_modified_at | default: node.date | default: site.time | date_to_xmlschema }}</lastmod>
          
          {%- for inner_lang in site.languages -%}
            {%- assign inner_alternate_url = node.url -%}
            {%- if inner_lang != default_lang -%}
              {%- assign inner_alternate_url = "/" | append: inner_lang | append: node.url -%}
            {%- endif -%}
            <xhtml:link
              rel="alternate"
              hreflang="{{ inner_lang }}"
              href="{{ inner_alternate_url | absolute_url }}"
            />
          {%- endfor -%}

          <xhtml:link
            rel="alternate"
            hreflang="x-default"
            href="{{ node.url | absolute_url }}"
          />
        </url>
      {%- endunless -%}
    {%- endfor -%}
  {%- endunless -%}
{%- endfor -%}

</urlset>